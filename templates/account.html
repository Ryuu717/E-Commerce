{% include "header.html" %}

<!-- Body -->
<body class="p-0 m-0 border-0 bd-example">
  <!-- Navbar -->
  {% include "nav.html" %}

  <!--Account-->
  <!-- Modal -->
  <div class="modal fade pt-5 mt-5" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Edit account</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form class="" action="/update_account", method="post">

              {{ registered_form.hidden_tag() }} 
    
              <div class="form-row">
                <div class="form-group col-md-10 mb-2">
                  {{ registered_form.first_name.label }} <br> 
                  {{ registered_form.first_name(value=account_list[0][1])}} <br> 
                  <!-- Error Message -->
                  {% for message in registered_form.first_name.errors %} 
                    <div class="text-danger">{{message}}</div> 
                  {% endfor %} 
                </div>
        
                <div class="form-group col-md-10 mb-2">
                  {{ registered_form.last_name.label }} <br> 
                  {{ registered_form.last_name(value=account_list[0][2])}} <br> 
                  <!-- Error Message -->
                  {% for message in registered_form.last_name.errors %} 
                    <div class="text-danger">{{message}}</div> 
                  {% endfor %} 
                </div>
    
                <div class="form-group col-md-10 mb-2">
                  {{ registered_form.address.label }} <br> 
                  {{ registered_form.address(value=account_list[0][3])}} <br> 
                  <!-- Error Message -->
                  {% for message in registered_form.address.errors %} 
                    <div class="text-danger">{{message}}</div> 
                  {% endfor %} 
                </div>
        
                <div class="form-group col-md-10 mb-2">
                  {{ registered_form.phone.label }} <br> 
                  {{ registered_form.phone(value=account_list[0][4])}} <br> 
                  <!-- Error Message -->
                  {% for message in registered_form.phone.errors %} 
                    <div class="text-danger">{{message}}</div> 
                  {% endfor %} 
                </div>
        
                <div class="form-group col-md-10 mb-2">
                  {{ registered_form.email.label }} <br> 
                  {{ registered_form.email(value=account_list[0][5])}} <br> 
                  <!-- Error Message -->
                  {% for message in registered_form.email.errors %} 
                    <div class="text-danger">{{message}}</div> 
                  {% endfor %} 
                </div>
    
                <div class="form-group col-md-10 mb-2">
                  {{ registered_form.card_number.label }} <br> 
                  {{ registered_form.card_number(value=account_list[0][6])}} <br> 
                  <!-- Error Message -->
                  {% for message in registered_form.card_number.errors %} 
                    <div class="text-danger">{{message}}</div> 
                  {% endfor %} 
                </div>
        
                  <!-- {{ form.submit }}  -->
                </div>
            </div>
            <!-- <input type="submit" name="Go Back to home" class="btn btn-success col-md-12 my-3"/> -->
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-success">Save changes</button>
            </div>
          </form>
      </div>
    </div>
  </div>

  <div class="container-sm mt-10">
    <h1 class="my-4">Your Account
      <span><a href="" class="text-primary h4 p-4" data-bs-toggle="modal" data-bs-target="#exampleModal">Edit</a></span>
    </h1>
    
    <ul class="list-unstyled mx-5">
      <!--Name, Address, Phone-->
      <li class="my-5">
        <h4>1. User information</h4>
        <table class="table table-borderless" style="width: auto;">
          <tbody>
            <tr>
              <th scope="row">Name:</th>
              <td>{{account_list[0][1]}} {{account_list[0][2]}}</td>
            </tr>
            <tr>
              <th scope="row">Address:</th>
              <td>{{account_list[0][3]}}</td>
            </tr>
            <tr>
              <th scope="row">Phone:</th>
              <td>{{account_list[0][4]}}</td>
            </tr>
          </tbody>
        </table>
      </li>
      
      <!--Payment Method-->
      <li class="my-5">
        <h4>2. Payment Method</h3>
        <table class="table table-borderless" style="width: auto;">
          <tbody>
            <tr>
              <th scope="row">Credit Card :</th>
              <td>Visa : **** - **** - {{card_num}}</td>
            </tr>
          </tbody>
        </table>
      </li>
      
      <!--Order history-->
      <li class="">
        <h4>3. Order history</h3>
        <div class="row mx-1 mb-3">
          <div id="carousel-order-history" class="carousel">
            <div class="carousel-inner-order-history">
              {% if order_list %}
                {% for item in order_list%}
                <div class="carousel-item-order-history">
                  <div class="image-wrapper">
                    <a href="/items/{{item[4]}}">
                      <img src="{{item[11]}}" alt="..." class="img-sm">
                    </a>
                  </div>
                  <div class="text-center">
                    <p class="d-inline-block text-truncate" style="max-width: 120px;">
                      {{item[5]}}
                    </p>
                  </div>
                </div>
                {% endfor %}
              {% else %}
                <div class="m-5"></div>
              {% endif %}
            </div>
            <button class="carousel-control-order-history-prev" type="button" data-bs-target="#carousel-order-history" data-bs-slide="prev">
              <span class="carousel-control-order-history-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-order-history-next" type="button" data-bs-target="#carousel-order-history" data-bs-slide="next">
              <span class="carousel-control-order-history-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        </div>
      </li>

      <!--Wish list-->
      <li class="mt-4">
        <h4>4. Wish list</h3>
        <div class="row mx-1 mb-3">
          <div id="carousel-wish-list" class="carousel">
            <div class="carousel-inner-wish-list">
              {% if wisher_list %}
                {% for item in wisher_list%}
                <div class="carousel-item-wish-list">
                  <div class="image-wrapper">
                    <a href="/items/{{item[4]}}">
                      <img src="{{item[10]}}" class="card-img-top img-sm" alt="...">
                    </a>
                  </div>
                  <div class="text-center">
                    <p class="d-inline-block text-truncate" style="max-width: 120px;">
                      {{item[5]}}
                    </p>
                  </div>
                </div>
                {% endfor %}
              {% else %}
                <div class="m-5"></div>
              {% endif %}

            </div>
            <button class="carousel-control-wish-list-prev" type="button" data-bs-target="#carousel-wish-list" data-bs-slide="prev">
              <span class="carousel-control-wish-list-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-wish-list-next" type="button" data-bs-target="#carousel-wish-list" data-bs-slide="next">
              <span class="carousel-control-wish-list-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        </div>
      </li>
    </ul>
  </div>

{% include "footer.html" %}
  
</body>
</html>